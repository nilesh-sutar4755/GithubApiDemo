<nav class="navbar navbar-expand-md bg-primary navbar-dark p-3 fixed-top">
  <button
    class="navbar-toggler"
    type="button"
    data-toggle="collapse"
    data-target="#collapsibleNavbar"
  >
    <span class="navbar-toggler-icon"></span>
  </button>
  <div
    class="collapse navbar-collapse justify-content-center"
    id="collapsibleNavbar"
  >
    <ul class="navbar-nav mt-2">
      <li class="nav-item pr-3">
        <div class="form-group mb-2">
          <select
            [disabled]="itemsList.length == 0"
            class="form-control"
            [(ngModel)]="sortItem"
            (change)="sortList($event)"
            id="sort"
          >
            <option value="" disabled>Sort List</option>
            <option value="1">Sort by Name (A-Z)</option>
            <option value="2">Sort by Name (Z-A)</option>
            <option value="3">Sort by Rank (Up)</option>
            <option value="4">Sort by Rank (Down)</option>
          </select>
        </div>
      </li>
      <li class="nav-item">
        <form class="form-inline">
          <input
            class="form-control mr-sm-2"
            type="text"
            placeholder="Search"
            [(ngModel)]="searchItem"
            name="searchItem"
            (keyup)="serachUser(searchItem)"
            autocomplete="off"
          />
        </form>
      </li>
    </ul>
  </div>
</nav>
<div class="container pt-5 mt-5 user-wrapper">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <h5 class="mt-3 mb-3" *ngIf="totalCount">
        Total Count : {{ totalCount }}
      </h5>
      <pagination-controls
        *ngIf="totalCount"
        (pageChange)="p = $event"
      ></pagination-controls>
      <div
        class="card mb-4"
        *ngFor="
          let item of itemsList | paginate: { itemsPerPage: 5, currentPage: p };
          let i = index
        "
      >
        <div class="card-body">
          <div class="row">
            <div class="col-md-4">
              <img
                [src]="item.avatar_url"
                alt=""
                class="img-fluid rounded-circle"
              />
              <h5>Rank : {{ item.score }}</h5>
            </div>
            <div class="col-md-8">
              <h4>{{ item.login }}</h4>
              <p>
                Profile Url :
                <a [href]="item.html_url" target="_blank">
                  {{ item.html_url }}</a
                >
              </p>

              <div class="float-right">
                <a
                  (click)="
                    !hideme[i] ? getDetails(item.login, item.id) : undefined;
                    hideme[i] = !hideme[i]
                  "
                  class="btn btn-primary"
                  >Details</a
                >
              </div>
            </div>
            <div class="col-12" [hidden]="!hideme[i]">
              <div class="table-responsive">
                <table class="table table-hover">
                  <thead>
                    <tr>
                      <th>Repository Name</th>
                      <th>Language Used</th>
                      <th>Star count</th>
                      <th>Open issues_count</th>
                      <th>Forks count</th>

                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of detailsList">
                      <td>{{ item.full_name }}</td>
                      <td>{{ item.language }}</td>
                      <td>{{ item.stargazers_count }}</td>
                      <td>{{ item.open_issues_count }}</td>
                      <td>{{ item.forks_count }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
